## ν΄λ΅μ €λ€?

- ν΄λ΅μ €λ” μµλ…ν•¨μ, μ¦‰ μ΄λ¦„ μ—†λ” ν•¨μ λΌκ³  μ•κ³  μμ—λ‹¤.
    
    β†’ ν•μ§€λ§ ν΄λ΅μ €μ—λ” λ‘ κ°€μ§€ μΆ…λ¥κ°€ μλ”λ°, λ°”λ΅ β€Named Closureβ€ μ™€ β€Unnamed Closureβ€ λ΅ λ‚λ‰λ‹¤κ³  ν•λ‹¤.
    

ν”νλ“¤ λ§μ΄ μ‚¬μ©ν•λ” ν•¨μ

```swift
func do() {
	print("Smoking")
}
```

β†’ μ΄λ¬ν• μ΄λ¦„μ΄ μλ” ν•¨μκ°€ Named Closure μΈλ°, μ΄λ¥Ό ν΄λ΅μ €λΌ λ¶€λ¥΄μ§€ μ•κ³ , κ·Έλƒ¥ ν•¨μλΌκ³  λ¶€λ¥΄λ”κ±°κ³ , ν΄λ΅μ €μΈκ²ƒ.

μ΄λ¦„μ„ λ¶™μ΄μ§€ μ•κ³  μ‚¬μ©ν•λ” ν•¨μ

```swift
let closure = { print("Smoking") }
```

β†’ μ΄λ ‡κ² μ΄λ¦„ μ—†λ” ν•¨μκ°€ Unnamed Closure μ΄κ³ , λ³΄ν†µ ν΄λ΅μ €λΌκ³  λ¶€λ¥Έλ‹¤.

π’΅ ν΄λ΅μ €λ” β€Named Closureβ€ , β€Unnamed Closureβ€ λ‘λ‹¤ ν¬ν•¨ λμ§€λ§,

λ³΄ν†µ Unnamed Closureλ¥Ό λ»ν•λ‹¤!

---


### ν΄λ΅μ € ν‘ν„μ‹

```swift
{ (Parameters) -> Return Type in
	// μ‹¤ν–‰ κµ¬λ¬Έ
}
```

β†’ ν‘ν„μ‹μ€ μ΄λ ‡κ² func ν‚¤μ›λ“λ¥Ό μ“°μ§€ μ•λ”λ‹¤.

### Parameterμ™€ Return Typeμ΄ λ‘ λ‹¤ μ—†λ” ν΄λ΅μ €

```swift
let closure = { () -> () in
	print("Closure")
}
```

β†’ μƒμμ— ν΄λ΅μ €λ¥Ό λ€μ…ν•  μ μλ”λ°, νΉν ν•¨μμ²λΌ Returnμ΄ μ—†μΌλ©΄ μƒλµν•΄λ„ λκ³ , μμ–΄λ„ μƒλµ κ°€λ¥ν•λ‹¤. κ·Έλƒ¥ ν•¨μμ—μ„ μ•λλ” Parameter μ΅°μ°¨ μƒλµμ΄ κ°€λ¥ν•λ‹¤.

### Parameterμ™€ Return Typeμ΄ μλ” ν΄λ΅μ €

```swift
let closure = { (name: String) -> String in
	return "Hello, \\(name)"
}
```

β†’ μΌλ°μ μΈ ν•¨μμ²λΌ Parameterμ β€nameβ€ μ΄ λ‹¨λ…μΌλ΅ μ“°μ€μΌλ‹ Argument Label μ΄μ, Parameter Name μ΄λΌκ³  μƒκ°ν–λ”λ° ν΄λ΅μ €μ—μ„  Argument Label μ„ μ‚¬μ©ν•μ§€ μ•λ”λ‹¤κ³  ν•λ‹¤.

```swift
closure(name: "Kadan") // error!

closure("Kadan") // Kadan
```

β†’ ν΄λ΅μ €λ¥Ό νΈμ¶ν•  λ• Argumnet Labelμ„ μ‚¬μ©ν•λ©΄ μ•λλ‹¤. μ¤μ§ Parameter Name μ„.

---


## νΈλ μΌλ§ ν΄λ΅μ €(Trailing Closure)

- ν΄λ΅μ €λ¥Ό μΆ€ λ” λ³΄κΈ° νΈν•κ² λ¬Έλ²•μ„ λ³€ν•ν•λ” κ²½λ‰ λ¬Έλ²• μ¤‘ ν•λ‚.
- ν•¨μμ λ§μ§€λ§‰ νλΌλ―Έν„°κ°€ ν΄λ΅μ €μΌ λ•, νλΌλ―Έν„° κ°’ ν•μ‹μ΄ μ•„λ‹ ν•¨μ λ’¤μ— λ¶™μ—¬ μ‘μ„±ν•λ”.

### νλΌλ―Έν„° κ°’ ν•μ‹?

```swift
func do(closure: () -> ()) {
	closure()
}
```

β†’ μ΄ ν•¨μλ¥Ό νΈμ¶ν•λ ¤λ©΄

```swift
do(closure: { () -> () in 
	print("Hello!"
})
```

β†’ μ΄λ ‡κ² ν΄λ΅μ €κ°€ νλΌλ―Έν„° κ°’ ν•μ‹μΌλ΅ ν•¨μ νΈμ¶ κµ¬λ¬Έ () μ•μ— μ‘μ„±λμ–΄ μλ”κ²ƒμ„ Inline Closure λΌκ³  λ¶€λ¥Έλ‹¤.

π’΅ κ΄„νΈλ„ }) μ΄λ ‡κ² μμ–΄μ„ ν—·κ°λ¦¬κ³  μ½”λ“ λ”± λ΄¤μ„λ• ν•΄μ„ν•κΈ°λ„ μ‰½μ§€ μ•λ‹¤β€¦.

---


### Trailing Closure

```swift
do() { () -> () in 
	print("Hello!")
}
```

β†’ μ΄λ ‡κ² ν•¨μμ κ°€μ¥ λ§μ§€λ§‰μ— ν΄λ΅μ €λ¥Ό κΌ¬λ¦¬μ²λΌ λ§λ¶™μ—¬μ„ μ“°λ”κ² Trailing Closureμ΄λ‹¤.

- νλΌλ―Έν„° ν΄λ΅μ €κ°€ ν•λ‚μΌ κ²½μ°, Trailing Closureκ°€ κ°€λ¥.
- β€closureβ€ λΌλ” ArgumnetLabel μ€ μƒλµλ¨.

```swift
do { () -> () in 
	print("Hello!")
}
```

β†’ () μƒλµλ„ κ°€λ¥ν•λ‹¤!

### νλΌλ―Έν„°κ°€ μ—¬λ¬ κ° ??

```swift
func fetchData(success: () -> (), fail: () -> ()) {
	// μ–΄μ©κ³ ..μ €μ©κ³ 
}
```

β†’ μ²« λ²μ§Έ νλΌλ―Έν„°λ΅ success λΌλ” ν΄λ΅μ €λ¥Ό λ°›κ³ , λ‘ λ²μ§Έ νλΌλ―Έν„°λ΅ fail λΌλ” ν΄λ΅μ €λ¥Ό λ°›μ.

```swift
// Inline Closure μ κ²½μ°
fetchData(success: { () -> () in 
	print("Success")
}, fail: { () -> () in 
	print("Fail")
})

// *** Trailing Closure μΌ κ²½μ°!
fetchData(success: { () -> () in
	print("Success")
}) { () -> () in
	print("Fail")
}
```

β†’ Trailing Closure μΌ κ²½μ° λ§μ§€λ§‰ νλΌλ―Έν„°μ ν΄λ΅μ €λ” ν•¨μ λ’¤μ— λ¶™μ—¬ μ“Έ μ μλ‹¤.

β†’ νλΌλ―Έν„°κ°€ μ—¬λ¬ κ°μΌ κ²½μ°, μ„μ—μ„ μ²λΌ ν•¨μ νΈμ¶ κµ¬λ¬Έ () μ„ λ§μλ€λ΅ μƒλµν•λ©΄ μ•λλ‹¤. (success λ” λ„κ²¨μ¤μ•Ό ν•¨!)

---


## () β†’ () μ΄ μ§€μ €λ¶„ν• κ²ƒλ„ μƒλµ κ°€λ¥!

```swift
func do(closure: (Int, Int, Int) -> Int {
	closure(1, 2, 3)
}
```

β†’ νλΌλ―Έν„°λ΅ λ°›μ€ ν΄λ΅μ €λ¥Ό μ‹¤ν–‰ν•λ”λ°, ν΄λ΅μ €μ νλΌλ―Έν„°λ΅ 1,2,3 μ„ λ„κ²¨μ£Όκ³  μλ‹¤.

```swift
do(closure: { (a: Int, b: Int, c: Int) -> Int in
	return a + b + c
})
```

β†’ μ΄λ°μ‹μΌλ΅ fullλ΅ μ‘μ„±ν•΄μ„ νΈμ¶ν•λ”κ² μ •μ„μΈλ° κ²½λ‰ λ¬Έλ²•μΌλ΅ κ°„λ‹¨ν•κ² λ°”κΏ€ μ μλ‹¤.

```swift
// νλΌλ―Έν„° ν•μ‹κ³Ό λ¦¬ν„΄ ν•μ‹ μƒλµ
do(closure: { (a, b, c) in
	reutunr a + b + c
})

// $ μ™€ μΈλ±μ¤λ¥Ό μ΄μ©ν•΄ νλΌλ―Έν„°μ— μμ„λ€λ΅ μ ‘κ·Ό ν•λ”κ²ƒλ„ κ°€λ¥ 
// -> Shortand Argument Names λΌκ³  ν•¨.
do(closure: {
	return $0 + $1 + $2
})

// λ‹¨μΌ λ¦¬ν„΄λ¬Έλ§ λ‚¨μ„ κ²½μ° return λ„ μƒλµ κ°€λ¥
do(closure: {
	$0 + $1 + $2
}

// ν΄λ΅μ € νλΌλ―Έν„°κ°€ λ§μ§€λ§‰ μ΄λΌλ©΄ , μ„μ—μ„ λ΄¤λ νΈλ μΌλ§ ν΄λ΅μ €λ΅ κ°€λ¥
do() {
	$0 + $1 + $2
}

// λ™μΌν•κ² () λ„ μƒλµ κ°€λ¥ν•¨
do {
	$0 + $1 + $2
}
```

π’΅ κ²°λ΅ 
- ν΄λ΅μ €λ” μ½”λ“μ μ¬μ‚¬μ©μ„±μ„ λ†’μΈλ‹¤.
- μ½λ°± μ²λ¦¬λ‚ λΉ„λ™κΈ° μ‘μ—…μ—μ„ λ§¤μ° μμ£Ό μ‚¬μ©λλ” Swift ν•µμ‹¬ λ¬Έλ²•μ΄λ‹¤. 

---


## β€ΌοΈΒ λ©”λ¨λ¦¬ κ΄€λ ¨ (ARC) λ‚ ν΄λ΅μ € μΊ΅μ² μ΄μλ„ ν•™μµ μμ •

- ARC μ™€ ν΄λ΅μ €μ κ°•ν• μ°Έμ΅° μν™ (Strong Reference Cycle)
- weak, unowned μλ―Έ
- μΊ΅μ² λ¦¬μ¤νΈ?